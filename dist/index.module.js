import{useState as n}from"react";function r(){return r=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)({}).hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n},r.apply(null,arguments)}var e={google:"https://speech.googleapis.com/v1/speech:recognize"},t=function(t,o){var a=e[o.engine]+"?key="+t,i=n({loading:!1,transcript:"",error:null}),c=i[1];return{transcribe:function(n){var e=new FileReader;e.onloadend=function(){if(e.result&&"string"==typeof e.result){c(function(n){return r({},n,{loading:!0})});var n=e.result.split(",")[1];fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config:{sampleRateHertz:48e3,encoding:"WEBM_OPUS",languageCode:"en-US"},audio:{content:n}})}).then(function(n){return n.json()}).then(function(n){console.log(n);var e=n.results.map(function(n){return n.alternatives[0].transcript}).join("\n");c(function(n){return r({},n,{loading:!1,error:null,transcript:e})})}).catch(function(n){console.error("Error performing speech-to-text:",n),c(function(e){return r({},e,{loading:!1,transcript:"",error:n})})})}},e.readAsDataURL(n)},response:i[0]}};export{t as default};
//# sourceMappingURL=index.module.js.map
